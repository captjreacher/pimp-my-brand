import{j as e}from"./ui-vendor-D6k6xAJg.js";import{C as f,c as N,a as v,b as k}from"./card-CfRzuJdW.js";import{B as $}from"./badge-DYFFvGV6.js";import{S as we}from"./separator-C1i2gjVs.js";import{B as n}from"./button-ro640sRo.js";import{E as _}from"./external-link-418F5hIn.js";import{U as ce}from"./user-jdNjT8Fw.js";import{B as de}from"./briefcase-B833yQK2.js";import{C as oe}from"./calendar-BAG2bnGU.js";import{A as me}from"./award-DpAKLtWf.js";import{r as a}from"./react-vendor-CbTYwD9p.js";import{I as g}from"./input-DlTyRBPh.js";import{T as W}from"./textarea-DMLWv3zQ.js";import{L as h}from"./label-3xwd5eha.js";import{S as Se,a as Le,b as Re,c as Fe,d as x}from"./select-D-FesbXe.js";import{D as Z,a as ee,b as se,c as le,d as ae,e as te}from"./dialog-BrE8jvkE.js";import{c as Ee,a as R,X as re}from"./index-CWAcGGyY.js";import{P as T}from"./plus-htkYI_UT.js";import{S as ie,T as ne}from"./trash-2-BmeZmT5Y.js";import{S as Ae}from"./save-BtpEs3Fh.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);function We({cv:t,className:E="",showHeader:b=!0,compact:u=!1}){return e.jsxs("div",{className:`max-w-4xl mx-auto space-y-4 sm:space-y-6 px-4 sm:px-6 ${E}`,children:[e.jsx(f,{className:"bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:e.jsx(N,{className:"pt-4 sm:pt-6",children:e.jsxs("div",{className:"text-center space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold tracking-tight",children:t.name}),e.jsx("p",{className:"text-lg sm:text-xl text-primary font-semibold",children:t.role}),b&&e.jsxs($,{variant:"outline",className:"text-xs sm:text-sm mt-2",children:[t.format.toUpperCase()," Format"]})]}),t.links&&t.links.length>0&&e.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 sm:gap-2",children:t.links.map((m,i)=>e.jsx(n,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs sm:text-sm px-2 sm:px-3",asChild:!0,children:e.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[e.jsx(_,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[100px] sm:max-w-none",children:m.label})]})},i))})]})})}),e.jsxs(f,{children:[e.jsx(v,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(ce,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),"Professional Summary"]})}),e.jsx(N,{children:e.jsx("p",{className:"text-sm sm:text-base leading-relaxed",children:t.summary})})]}),e.jsxs("div",{className:`grid gap-4 sm:gap-6 ${u?"grid-cols-1":"grid-cols-1 lg:grid-cols-3"}`,children:[e.jsxs(f,{className:u?"":"lg:col-span-2",children:[e.jsx(v,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(de,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),"Professional Experience"]})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.experience.map((m,i)=>e.jsxs("div",{className:"relative",children:[!u&&i<t.experience.length-1&&e.jsx("div",{className:"absolute left-0 top-12 w-px h-full bg-border hidden sm:block"}),e.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[!u&&e.jsx("div",{className:"flex-shrink-0 hidden sm:block",children:e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-primary mt-2"})}),e.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg leading-tight",children:m.role}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[e.jsx(xe,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:m.org})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-muted-foreground flex-shrink-0",children:[e.jsx(oe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:m.dates})]})]}),e.jsx("ul",{className:"space-y-1.5 sm:space-y-2 ml-0 sm:ml-4",children:m.bullets.map((F,o)=>e.jsxs("li",{className:"flex items-start gap-2 sm:gap-3 text-xs sm:text-sm",children:[e.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full bg-muted-foreground mt-2 flex-shrink-0"}),e.jsx("span",{className:"leading-relaxed",children:F})]},o))})]})]}),i<t.experience.length-1&&e.jsx(we,{className:"mt-4 sm:mt-6"})]},i))})})]}),e.jsxs(f,{className:u?"":"lg:col-span-1",children:[e.jsx(v,{className:"pb-3",children:e.jsxs(k,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(me,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),"Core Competencies"]})}),e.jsx(N,{children:e.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:t.skills.map((m,i)=>e.jsx($,{variant:"secondary",className:"text-xs sm:text-sm",children:m},i))})})]})]}),!u&&e.jsx("div",{className:"text-center pt-6 border-t",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Generated with ",t.format.toUpperCase()," format â€¢",t.createdAt&&` Created ${new Date(t.createdAt).toLocaleDateString()}`]})})]})}function Ze({cv:t,onChange:E,onSave:b,className:u="",showSaveButton:m=!0}){var Q;const[i,F]=a.useState(t.experience.map((s,l)=>({...s,id:`role-${l}`}))),[o,U]=a.useState(((Q=t.links)==null?void 0:Q.map((s,l)=>({...s,id:`link-${l}`})))||[]),[y,he]=a.useState(t.skills||[]),[C,q]=a.useState(""),[ue,A]=a.useState(!1),[je,D]=a.useState(!1),[w,H]=a.useState(null),[S,O]=a.useState(null),[G,J]=a.useState(!1),[c,L]=a.useState({role:"",org:"",dates:"",bullets:[""]}),[j,P]=a.useState({label:"",url:""}),p=a.useCallback(s=>{const l={...t,...s};E(l)},[t,E]),B=a.useCallback((s,l)=>{p({[s]:l})},[p]),z=a.useCallback(()=>{const s=i.map(({id:l,isEditing:r,...d})=>d);p({experience:s})},[i,p]),I=a.useCallback(()=>{const s=o.map(({id:l,isEditing:r,...d})=>d);p({links:s})},[o,p]),M=a.useCallback(s=>{he(s),p({skills:s})},[p]),K=a.useCallback(s=>{s!==void 0?(H(s),L({...i[s]})):(H(null),L({role:"",org:"",dates:"",bullets:[""]})),A(!0)},[i]),pe=a.useCallback(()=>{if(!c.role.trim()||!c.org.trim()){R.error("Role and organization are required");return}const s=c.bullets.filter(r=>r.trim());if(s.length===0){R.error("At least one achievement bullet point is required");return}const l={...c,bullets:s};if(w!==null){const r=[...i];r[w]={...l,id:r[w].id},F(r)}else{const r={...l,id:`role-${Date.now()}`};F([...i,r])}A(!1),z()},[c,w,i,z]),ge=a.useCallback(s=>{const l=i.filter((r,d)=>d!==s);F(l),z()},[i,z]),X=a.useCallback(s=>{s!==void 0?(O(s),P({...o[s]})):(O(null),P({label:"",url:""})),D(!0)},[o]),fe=a.useCallback(()=>{if(!j.label.trim()||!j.url.trim()){R.error("Label and URL are required");return}try{new URL(j.url)}catch{R.error("Please enter a valid URL");return}if(S!==null){const s=[...o];s[S]={...j,id:s[S].id},U(s)}else{const s={...j,id:`link-${Date.now()}`};U([...o,s])}D(!1),I()},[j,S,o,I]),Ne=a.useCallback(s=>{const l=o.filter((r,d)=>d!==s);U(l),I()},[o,I]),Y=a.useCallback(()=>{if(C.trim()&&!y.includes(C.trim())){const s=[...y,C.trim()];M(s),q("")}},[C,y,M]),ve=a.useCallback(s=>{const l=y.filter((r,d)=>d!==s);M(l)},[y,M]),V=a.useCallback((s,l)=>{L(r=>({...r,[s]:l}))},[]),ke=a.useCallback((s,l)=>{const r=[...c.bullets];r[s]=l,L(d=>({...d,bullets:r}))},[c.bullets]),be=a.useCallback(()=>{L(s=>({...s,bullets:[...s.bullets,""]}))},[]),ye=a.useCallback(s=>{if(c.bullets.length>1){const l=c.bullets.filter((r,d)=>d!==s);L(r=>({...r,bullets:l}))}},[c.bullets]),Ce=a.useCallback(async()=>{if(b){J(!0);try{await b(t),R.success("CV saved successfully")}catch(s){console.error("Save error:",s),R.error(s.message||"Failed to save CV")}finally{J(!1)}}},[b,t]);return e.jsxs("div",{className:`space-y-6 ${u}`,children:[e.jsxs(f,{children:[e.jsx(v,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Personal Information"]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"name",children:"Full Name"}),e.jsx(g,{id:"name",value:t.name||"",onChange:s=>B("name",s.target.value),placeholder:"Your full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"role",children:"Professional Title"}),e.jsx(g,{id:"role",value:t.role||"",onChange:s=>B("role",s.target.value),placeholder:"e.g., Senior Software Engineer"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"summary",children:"Professional Summary"}),e.jsx(W,{id:"summary",value:t.summary||"",onChange:s=>B("summary",s.target.value),placeholder:"Brief professional summary highlighting your key strengths and experience",className:"h-24"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"format",children:"Presentation Format"}),e.jsxs(Se,{value:t.format||"custom",onValueChange:s=>B("format",s),children:[e.jsx(Le,{children:e.jsx(Re,{placeholder:"Choose format"})}),e.jsxs(Fe,{children:[e.jsx(x,{value:"custom",children:"Custom"}),e.jsx(x,{value:"ufc",children:"UFC"}),e.jsx(x,{value:"team",children:"Team Captain"}),e.jsx(x,{value:"military",children:"Military"}),e.jsx(x,{value:"nfl",children:"NFL"}),e.jsx(x,{value:"influencer",children:"Influencer"}),e.jsx(x,{value:"executive",children:"Executive"}),e.jsx(x,{value:"artist",children:"Artist"}),e.jsx(x,{value:"humanitarian",children:"Humanitarian"}),e.jsx(x,{value:"creator",children:"Content Creator"}),e.jsx(x,{value:"fashion",children:"Fashion"})]})]})]})]})]}),e.jsxs(f,{children:[e.jsx(v,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5"}),"Professional Experience"]}),e.jsxs(n,{onClick:()=>K(),size:"sm",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Add Role"]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[i.map((s,l)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.role}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:s.org})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{children:s.dates})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>K(l),children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>ge(l),className:"text-red-500 hover:text-red-700",children:e.jsx(ne,{className:"h-4 w-4"})})]})]}),e.jsx("ul",{className:"space-y-1 ml-4",children:s.bullets.map((r,d)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground mt-2 flex-shrink-0"}),e.jsx("span",{children:r})]},d))})]},s.id)),i.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No experience added yet. Click "Add Role" to get started.'})]})})]}),e.jsxs(f,{children:[e.jsx(v,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Core Competencies"]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((s,l)=>e.jsxs($,{variant:"secondary",className:"flex items-center gap-1",children:[s,e.jsx(n,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>ve(l),children:e.jsx(re,{className:"h-3 w-3"})})]},l))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{value:C,onChange:s=>q(s.target.value),placeholder:"Add a skill",onKeyPress:s=>s.key==="Enter"&&Y()}),e.jsx(n,{onClick:Y,disabled:!C.trim(),children:e.jsx(T,{className:"h-4 w-4"})})]})]})]}),e.jsxs(f,{children:[e.jsx(v,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Professional Links"]}),e.jsxs(n,{onClick:()=>X(),size:"sm",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Add Link"]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[o.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-xs",children:s.url})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>X(l),children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>Ne(l),className:"text-red-500 hover:text-red-700",children:e.jsx(ne,{className:"h-4 w-4"})})]})]},s.id)),o.length===0&&e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:'No links added yet. Click "Add Link" to include professional profiles.'})]})})]}),m&&b&&e.jsx("div",{className:"flex justify-end",children:e.jsx(n,{onClick:Ce,disabled:G,children:G?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Save CV"]})})}),e.jsx(Z,{open:ue,onOpenChange:A,children:e.jsxs(ee,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(se,{children:[e.jsx(le,{children:w!==null?"Edit Role":"Add New Role"}),e.jsx(ae,{children:"Add details about your professional experience"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"role-title",children:"Job Title"}),e.jsx(g,{id:"role-title",value:c.role,onChange:s=>V("role",s.target.value),placeholder:"e.g., Senior Software Engineer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"role-org",children:"Organization"}),e.jsx(g,{id:"role-org",value:c.org,onChange:s=>V("org",s.target.value),placeholder:"e.g., Tech Company Inc."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"role-dates",children:"Employment Period"}),e.jsx(g,{id:"role-dates",value:c.dates,onChange:s=>V("dates",s.target.value),placeholder:"e.g., Jan 2020 - Present"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(h,{children:"Key Achievements"}),e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:be,children:[e.jsx(T,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),c.bullets.map((s,l)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(W,{value:s,onChange:r=>ke(l,r.target.value),placeholder:"Describe a key achievement or responsibility",className:"h-20"}),c.bullets.length>1&&e.jsx(n,{type:"button",variant:"ghost",size:"sm",onClick:()=>ye(l),className:"text-red-500 hover:text-red-700",children:e.jsx(re,{className:"h-4 w-4"})})]},l))]})]}),e.jsxs(te,{children:[e.jsx(n,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),e.jsx(n,{onClick:pe,children:w!==null?"Update Role":"Add Role"})]})]})}),e.jsx(Z,{open:je,onOpenChange:D,children:e.jsxs(ee,{children:[e.jsxs(se,{children:[e.jsx(le,{children:S!==null?"Edit Link":"Add Professional Link"}),e.jsx(ae,{children:"Add links to your professional profiles and portfolios"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"link-label",children:"Label"}),e.jsx(g,{id:"link-label",value:j.label,onChange:s=>P(l=>({...l,label:s.target.value})),placeholder:"e.g., LinkedIn, GitHub, Portfolio"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"link-url",children:"URL"}),e.jsx(g,{id:"link-url",type:"url",value:j.url,onChange:s=>P(l=>({...l,url:s.target.value})),placeholder:"https://..."})]})]}),e.jsxs(te,{children:[e.jsx(n,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),e.jsx(n,{onClick:fe,children:S!==null?"Update Link":"Add Link"})]})]})})]})}export{Ze as C,We as a};
