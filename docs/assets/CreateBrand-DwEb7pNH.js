const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UploadStep-BwVSyOmc.js","assets/ui-vendor-C0wu6Ixu.js","assets/react-vendor-CaWBk0BP.js","assets/button-D0nBzFIi.js","assets/index-DuW-Yr95.js","assets/supabase-vendor-ChaIFbZk.js","assets/router-vendor-CjcZkGkV.js","assets/query-vendor-Dx0-x9wB.js","assets/index-DX6TSmGt.css","assets/switch-br7PAXxM.js","assets/index-CS5Pkq6r.js","assets/label-B9gvsU_t.js","assets/upload-DcScQ5z3.js","assets/eye-CqaP1oTC.js","assets/file-text-_TkRN8CW.js","assets/FormatStep-_6oOjObf.js","assets/loader-circle-CVeAWNbS.js","assets/badge-DIdVrDCd.js","assets/card-CwGfeh1M.js","assets/dialog-CiVULkyW.js","assets/tabs-B0MGJ9wM.js","assets/separator-dSadwi7O.js","assets/lock-BoiZjYnG.js","assets/crown-DNc9RGXq.js","assets/arrow-right-BPoMyXb1.js","assets/users-C6gUJ-Ql.js","assets/user-BezrhGKr.js","assets/shield-C4PGmscN.js","assets/zap-DOKSeazW.js","assets/star-uLuArE-J.js","assets/briefcase-BCJ8b3HT.js","assets/camera-i1wWw8f7.js","assets/palette-B3sHXp2P.js","assets/sparkles-CXwACaMJ.js","assets/LogoStep-iqavaxyB.js","assets/input-CJw-rrwE.js","assets/image-C2y8JWNj.js","assets/GenerateStep-CbLxRzjp.js","assets/CVSourceStep-3h3TeApx.js","assets/checkbox-Bdf6tCxa.js","assets/check-Dr51VA5y.js","assets/search-BYOnwMcq.js","assets/circle-alert-ixkHJXJq.js","assets/calendar-ZbfWttRB.js","assets/house-Uw4z_9qp.js","assets/arrow-left-5daSwHJ3.js"])))=>i.map(i=>d[i]);
import{_ as i}from"./supabase-vendor-ChaIFbZk.js";import{j as e}from"./ui-vendor-C0wu6Ixu.js";import{r}from"./react-vendor-CaWBk0BP.js";import{B as o}from"./button-D0nBzFIi.js";import{u as _}from"./router-vendor-CjcZkGkV.js";import{C as E}from"./circle-alert-ixkHJXJq.js";import{H as d}from"./house-Uw4z_9qp.js";import{C as z}from"./chevron-left-6zYboaaM.js";import"./index-DuW-Yr95.js";import"./query-vendor-Dx0-x9wB.js";const k=r.lazy(()=>i(()=>import("./UploadStep-BwVSyOmc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])).then(a=>({default:a.UploadStep}))),D=r.lazy(()=>i(()=>import("./FormatStep-_6oOjObf.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,8,16,17,18,19,20,21,22,23,13,24,25,26,27,28,29,30,31,32,33])).then(a=>({default:a.FormatStep}))),L=r.lazy(()=>i(()=>import("./LogoStep-iqavaxyB.js"),__vite__mapDeps([34,1,2,3,4,5,6,7,8,35,33,16,12,36])).then(a=>({default:a.LogoStep}))),G=r.lazy(()=>i(()=>import("./GenerateStep-CbLxRzjp.js"),__vite__mapDeps([37,1,2,3,4,5,6,7,8,38,18,39,10,40,17,35,20,14,41,42,12,43,44,45,33,16])).then(a=>({default:a.GenerateStep})));function V(){const a=_(),[t,l]=r.useState(()=>(localStorage.removeItem("wizard-step"),localStorage.removeItem("wizard-corpus"),localStorage.removeItem("wizard-uploadIds"),console.log("FORCED RESET: Starting wizard on step 1"),1)),[m,p]=r.useState(""),[c,u]=r.useState([]),[h,g]=r.useState("custom"),[j,f]=r.useState(null),[b,v]=r.useState(null),[N,y]=r.useState(!1);console.log("CreateBrand render - Current step:",t),console.log("CreateBrand render - Corpus:",m),console.log("CreateBrand render - UploadIds:",c);const C=(s,n)=>{p(s),u(n),l(2)},w=s=>{g(s),l(3)},x=s=>{f(s),l(4)},S=(s,n)=>{a(n?`/brand/${s}?cv=${n}`:`/brand/${s}`)};return N?e.jsx("div",{className:"min-h-screen bg-black py-12",children:e.jsx("div",{className:"container max-w-4xl mx-auto px-4",children:e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-8 shadow-lg",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-red-900 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-8 h-8 text-red-400"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"font-heading text-3xl text-white",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-300 max-w-md mx-auto",children:"We encountered an error while loading the brand creation wizard. This might be due to a temporary issue."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[e.jsx(o,{onClick:()=>y(!1),className:"flex items-center gap-2",children:"Try Again"}),e.jsxs(o,{variant:"outline",onClick:()=>a("/dashboard"),className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4"}),"Go to Dashboard"]}),e.jsxs(o,{variant:"outline",onClick:()=>a("/"),className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4"}),"Go Home"]})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"If this problem persists, please try refreshing the page or contact support."})]})})})}):e.jsx("div",{className:"min-h-screen bg-black py-12",children:e.jsxs("div",{className:"container max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t<4&&e.jsxs(o,{variant:"ghost",onClick:()=>t>1?l(t-1):a("/dashboard"),children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>a("/dashboard"),children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>a("/"),children:"Home"})]})]}),e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-8 shadow-lg",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:[{num:1,label:"Upload"},{num:2,label:"Format"},{num:3,label:"Logo"},{num:4,label:"Generate"}].map(s=>e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:`h-3 rounded-full transition-all ${s.num===t?"w-12 bg-primary":s.num<t?"w-10 bg-primary/70":"w-8 bg-border"}`}),e.jsx("span",{className:`text-xs font-medium ${s.num===t?"text-primary":s.num<t?"text-primary/70":"text-muted-foreground"}`,children:s.label})]},s.num))}),t===4&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Final step: Generate your brand and optionally create a CV"})})]}),e.jsxs(r.Suspense,{fallback:e.jsxs("div",{className:"text-center py-12 space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading wizard step..."}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>a("/dashboard"),children:"Go to Dashboard"}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>a("/"),children:"Go Home"})]})]}),children:[t===1&&e.jsx(k,{onComplete:C}),t===2&&e.jsx(D,{onComplete:w}),t===3&&e.jsx(L,{brandData:b,onComplete:x,onSkip:()=>x(null)}),t===4&&e.jsx(G,{corpus:m,uploadIds:c,format:h,logoUrl:j,onComplete:S,onBrandDataGenerated:v})]})]})]})})}export{V as default};
