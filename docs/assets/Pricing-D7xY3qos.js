import{j as e}from"./ui-vendor-C0wu6Ixu.js";import{B as n}from"./button-D0nBzFIi.js";import{B as d}from"./badge-DIdVrDCd.js";import{L as f}from"./router-vendor-CjcZkGkV.js";import{b,s as o,a as c}from"./index-DuW-Yr95.js";import{S as s}from"./subscription-tiers-B9LEAwRZ.js";import{C as g}from"./crown-DNc9RGXq.js";import{Z as j}from"./zap-DOKSeazW.js";import{C as N}from"./check-Dr51VA5y.js";import"./react-vendor-CaWBk0BP.js";import"./supabase-vendor-ChaIFbZk.js";import"./query-vendor-Dx0-x9wB.js";function A(){const{tier:i,trialActive:m,checkSubscription:h}=b(),u=async r=>{try{const{data:{session:t}}=await o.auth.getSession();if(!t){c.error("Please sign in to subscribe");return}const{data:a,error:l}=await o.functions.invoke("create-checkout",{body:{priceId:r},headers:{Authorization:`Bearer ${t.access_token}`}});if(l)throw l;a!=null&&a.url&&(window.open(a.url,"_blank"),setTimeout(()=>{h()},2e3))}catch(t){console.error("Checkout error:",t),c.error("Failed to start checkout")}},x=async()=>{try{const{data:{session:r}}=await o.auth.getSession();if(!r)return;const{data:t,error:a}=await o.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${r.access_token}`}});if(a)throw a;t!=null&&t.url&&window.open(t.url,"_blank")}catch(r){console.error("Portal error:",r),c.error("Failed to open customer portal")}},p=[{name:"Free",price:"$0",description:"Get started with basic templates",features:["Basic Templates (UFC, Team, Solo, Military, Custom)","Standard Brand Generation","Basic Export Options","Community Support"],cta:"Current Plan",tier:"free",highlight:!1},{name:s.pro.name,price:s.pro.price,description:"Unlock premium templates and features",features:s.pro.features,cta:i==="pro"?"Current Plan":"Start Free Trial",tier:"pro",priceId:s.pro.price_id,highlight:!0,badge:"Popular"},{name:s.elite.name,price:s.elite.price,description:"Complete professional branding suite",features:s.elite.features,cta:i==="elite"?"Current Plan":"Start Free Trial",tier:"elite",priceId:s.elite.price_id,highlight:!1,badge:"Best Value"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b border-border bg-surface/30 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"font-heading text-2xl font-bold",children:"Pricing"}),e.jsx(n,{asChild:!0,variant:"outline",children:e.jsx(f,{to:"/dashboard",children:"Dashboard"})})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"font-heading text-4xl font-bold mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Start with a 7-day free trial on any paid plan. No credit card required upfront."}),m&&e.jsx(d,{variant:"secondary",className:"mt-4",children:"ðŸŽ‰ Free Trial Active"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:p.map(r=>e.jsxs("div",{className:`relative rounded-2xl border-2 p-8 ${r.highlight?"border-primary shadow-glow bg-primary/5":"border-border bg-surface/50"}`,children:[r.badge&&e.jsx(d,{className:"absolute -top-3 left-1/2 -translate-x-1/2",variant:r.highlight?"default":"secondary",children:r.badge}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-heading text-2xl font-bold",children:r.name}),r.tier==="elite"&&e.jsx(g,{className:"w-5 h-5 text-amber-400"}),r.tier==="pro"&&e.jsx(j,{className:"w-5 h-5 text-blue-400"})]}),e.jsxs("div",{className:"text-3xl font-bold mb-2",children:[r.price,r.tier!=="free"&&e.jsx("span",{className:"text-base font-normal text-muted-foreground",children:"/month"})]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:r.description})]}),e.jsx("ul",{className:"space-y-3 mb-8",children:r.features.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm",children:t})]},a))}),i===r.tier?e.jsx(n,{variant:"outline",className:"w-full",onClick:x,disabled:i==="free",children:i==="free"?"Current Plan":"Manage Subscription"}):e.jsx(n,{variant:r.highlight?"default":"outline",className:"w-full",onClick:()=>r.priceId&&u(r.priceId),disabled:!r.priceId,children:r.cta})]},r.tier))}),e.jsxs("div",{className:"text-center mt-12 text-muted-foreground text-sm",children:[e.jsx("p",{children:"All paid plans include a 7-day free trial"}),e.jsx("p",{className:"mt-2",children:"Cancel anytime â€¢ Secure payments via Stripe"})]})]})]})}export{A as default};
